<html>
<head>
    <title><%= title %></title>
    <!-- Font Awesome-->
    <script
            src="https://kit.fontawesome.com/350e6b363a.js"
            crossorigin="anonymous"
    ></script>
    <link
            rel="stylesheet"
            href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
            integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay"
            crossorigin="anonymous"
    />

    <link rel="stylesheet" href="/css/home.css"/>

</head>
<body>

<div class="todo">
    <!-- header of the list -->
    <div class="todo-header">
        <h1 id="todo-header">
            <i class="fas fa-tasks"></i>
            ToDo App
        </h1>
    </div>
    <!---Form for getting the details of the task--->
    <div class="form">
        <form action="create-list" method="POST">
            <div class="describe">
                <p>Description:</p><!--- getting the description of the task-->
                <input
                        placeholder="what you need to do?"
                        type="text"
                        name="description"
                        required
                />
            </div>
            <!--- Getting Category and due date-->
            <div class="about">
                <div class="category">
                    <p>Category</p>

                    <select name="category" required>
                        <option>Home</option>
                        <option>College</option>
                        <option>Career</option>
                        <option>Deep Work</option>
                        <option>Shallow Work</option>
                    </select>
                </div>
                <div class="date">
                    <p>Due Date</p>
                    <input type="date" name="date" requried class="desc"/>
                </div>
            </div>
            <!----  For addding the task into the database-->
            <button type="submit">
                <i class="fa-solid fa-plus"></i>Add Task
            </button>
            <!-- deleting multiple selected completed task-->
            <button type="delete" onclick="getIdforList()">
                <i class="fas fa-trash-can"></i>
                Delete
            </button>

            <!-- <button type="submit" form="delete-tasklist">Delete</button> -->
        </form>

        <!-- Adding the tasklist header-->
        <header id="tasklist-header">
            <h1><i class="fa-solid fa-clipboard"></i>Task List</h1>
        </header>
        <!-- Task List which shows are regular task-->
        <div class="task-list">
            <ul id="list">
                <% for(let i of task_list ) { %>
                    <li id="list-li" name="list">
                        <!--checking the checkbox-->

                        <input type="checkbox" id="task1" class="custom_checkbox" name="checkbox" 1/>

                        <div class="task-name">
                            <div id="task-desc"><%= i.description %></div>
                            <div id="task-date">
                                <i class="fas fa-calendar-alt"></i><%= i.date %>
                            </div>
                        </div>
                        <!--Getting the task-category-->
                        <div class="task-category">
                            <label for="date"><%= i.category %></label>
                        </div>
                        <!-- Delete button for deleting the task-->
                        <div class="delete-btn">
                            <a href="/delete-list/?id=<%= i._id %>" alt="delete" class="dlt-btn">
                                <i class="fa-solid fa-trash-can" style="color:black"></i>
                            </a>
                        </div>
                        <!-- to add the animation effect after the checklist is marked as checked-->
                        <div class="overlay hidden">
                            <i class="fa-solid fa-list-check"></i>
                            <p>TASK COMPLETED</p>
                        </div>

                    </li>
                    <hr/>
                    <br/>
                <% } %>
            </ul>

        </div>
    </div>
</div>
<!-- connecting witht the javascript file for adding functionality-->
<script src="/javascript/script.js" type="text/javascript"></script>
</body>

</html>
